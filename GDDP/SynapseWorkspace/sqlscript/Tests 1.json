{
	"name": "Tests 1",
	"properties": {
		"content": {
			"query": "\n;with devices as (\n    SELECT rowsdevices.*\n    FROM OPENROWSET(\n        PROVIDER = 'CosmosDB',\n        CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n        OBJECT = 'IoTDeviceInfo',\n        SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n        ) as rowsdevices\n)\nSELECT rows.*, devices.Rotortype\nFROM OPENROWSET(\n      PROVIDER = 'CosmosDB',\n      CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n      OBJECT = 'IoTSignals',\n      SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n    ) as rows\ninner join devices on devices.Deviceid=rows.DeviceId\n\n\nselect a.deviceid \n        , b.devicetype \n        , cast(b.location as varchar(128)) as location\n        , cast(b.latitude as float) as latitude\n        , cast(b.longitude as float) as  longitude\n        , a.measuretype \n        , a.unitSymbol \n        , cast(sum(measureValue) as float) as measureValueSum \n        , count(*) as count \nfrom OPENROWSET(\n    PROVIDER = 'CosmosDB',\n    CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n    OBJECT = 'IoTSignals',\n    SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n    ) as a \nleft join OPENROWSET(\n        PROVIDER = 'CosmosDB',\n        CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n        OBJECT = 'IoTDeviceInfo',\n        SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n        ) as b \non a.deviceid = b.deviceid \nwhere a.unitSymbol = 'RPM' \ngroup by a.deviceid, b.devicetype, b.location, b.latitude, b.longitude, a.measuretype, a.unitSymbol\n\n\n-- SELECT *\n-- FROM OPENROWSET(\n--       PROVIDER = 'CosmosDB',\n--       CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n--       OBJECT = 'Volcano',\n--       SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n--     ) as rows\n    \n    -- OPENROWSET( \n--        'CosmosDB',\n--        'Account=playgroundeu2;Database=Volcano;Key=EgHlSUqq4Z4Hfr7JaAHO90CEAlgR9qolpGcoKNC02LabD3xZyF9MsQA1N3WEzbN5s56dlWF30MxaeFYCR3wO1Q==;\n--        Volcano) as r\n\n    --with ( date_rep varchar(20), cases bigint, geo_id varchar(6) ) as rows\n\n    -- paper_id\tvarchar(8000),\n    --     title        varchar(1000) '$.metadata.title',\n    --     metadata     varchar(max),\n    --     authors      varchar(max) '$.metadata.authors'",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"name": "master",
				"type": "SqlOnDemand"
			}
		},
		"type": "SqlQuery"
	}
}