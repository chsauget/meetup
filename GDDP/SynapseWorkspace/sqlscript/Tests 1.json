{
	"name": "Tests 1",
	"properties": {
		"content": {
			"query": "\n-- ;with devices as (\n--     SELECT rowsdevices.*\n--     FROM OPENROWSET(\n--         PROVIDER = 'CosmosDB',\n--         CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n--         OBJECT = 'IoTDeviceInfo',\n--         SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n--         ) as rowsdevices\n-- )\n-- SELECT rows.*, devices.Rotortype\n-- FROM OPENROWSET(\n--       PROVIDER = 'CosmosDB',\n--       CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n--       OBJECT = 'IoTSignals',\n--       SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n--     ) as rows\n-- inner join devices on devices.Deviceid=rows.DeviceId\n\n\n-- select a.Deviceid \n--         , b.Devicetype \n--         , cast(b.Location as varchar(128)) as Location\n--         , cast(b.Latitude as float) as Latitude\n--         , cast(b.Longitude as float) as  Longitude\n--         , a.Measuretype \n--         , a.UnitSymbol \n--         , cast(sum(MeasureValue) as float) as MeasureValueSum \n--         , count(*) as count \n-- from OPENROWSET(\n--     PROVIDER = 'CosmosDB',\n--     CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n--     OBJECT = 'IoTSignals',\n--     SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n--     ) as a \n-- left join OPENROWSET(\n--         PROVIDER = 'CosmosDB',\n--         CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n--         OBJECT = 'IoTDeviceInfo',\n--         SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n--         ) as b \n-- on a.Deviceid = b.Deviceid \n-- where a.unitSymbol = 'RPM' \n-- group by a.Deviceid, b.Devicetype, b.Location, b.Latitude, b.Longitude, a.Measuretype, a.UnitSymbol\n\nSELECT JSON_VALUE(rows.Location, '$.type') as loc_type, JSON_VALUE(rows.Location, '$.coordinates[0]') as Longitude, JSON_VALUE(rows.Location, '$.coordinates[1]') as Latitude, \n    rows.*\nFROM OPENROWSET(\n      PROVIDER = 'CosmosDB',\n      CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n      OBJECT = 'Volcano',\n      SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n    ) \n    as rows\n\nSELECT rows.*\nFROM OPENROWSET(\n      PROVIDER = 'CosmosDB',\n      CONNECTION = 'Account=playgroundeu2;Database=Volcano;',\n      OBJECT = 'Volcano',\n      SERVER_CREDENTIAL  = 'MyCosmosDbAccountCredential'\n    ) \n    WITH( \n        location_type varchar(32) '$.Location.type',\n        Country varchar(128),\n        [Status] varchar(128),\n        [Volcano Name] varchar(128),\n        [Type] varchar(128),\n        [Region] varchar(128)\n     ) \n    as rows\n    -- CROSS APPLY OPENJSON ( Location ) \n    --     WITH (\n    --         type varchar(16),\n    --         Point varchar(50),\n    --         affiliation nvarchar(max) as json\n    --     ) as loc\n    \n    -- OPENROWSET( \n--        'CosmosDB',\n--        'Account=playgroundeu2;Database=Volcano;Key=EgHlSUqq4Z4Hfr7JaAHO90CEAlgR9qolpGcoKNC02LabD3xZyF9MsQA1N3WEzbN5s56dlWF30MxaeFYCR3wO1Q==;\n--        Volcano) as r\n\n    --with ( date_rep varchar(20), cases bigint, geo_id varchar(6) ) as rows\n\n    -- paper_id\tvarchar(8000),\n    --     title        varchar(1000) '$.metadata.title',\n    --     metadata     varchar(max),\n    --     authors      varchar(max) '$.metadata.authors'",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"name": "master",
				"type": "SqlOnDemand"
			}
		},
		"type": "SqlQuery"
	}
}